import type { EnemyDef, EliteModifierDef, BossDef } from '../types';

export const enemies: EnemyDef[] = [
  {
    id: 'skeleton_chaser',
    name: 'Skeleton Chaser',
    archetype: 'melee_chaser',
    hp: 22,
    damage: 5,
    speed: 3.0 * 32,
    attackCooldown: 1.2,
    attackRange: 24,
    tags: ['Physical', 'Melee'],
    description: 'Basic melee skeleton that rushes toward the player.',
    floorScaling: { hpMult: 1.8, damageMult: 1.6 },
  },
  {
    id: 'mushroom_spitter',
    name: 'Mushroom Spitter',
    archetype: 'ranged_spitter',
    hp: 18,
    damage: 7,
    speed: 1.8 * 32,
    attackCooldown: 2.0,
    attackRange: 180,
    tags: ['Poison', 'Ranged', 'Projectile'],
    abilities: [{
      id: 'spit_spore',
      name: 'Spit Spore',
      cooldown: 2.0,
      range: 180,
      damage: 7,
      telegraphMs: 400,
      effect: 'projectile_poison',
    }],
    description: 'Stationary fungal enemy that fires poisonous spores.',
    floorScaling: { hpMult: 1.6, damageMult: 1.5 },
  },
  {
    id: 'stone_golem',
    name: 'Stone Golem',
    archetype: 'tank',
    hp: 45,
    damage: 8,
    speed: 1.2 * 32,
    attackCooldown: 2.5,
    attackRange: 28,
    tags: ['Physical', 'Melee', 'Shield'],
    abilities: [{
      id: 'ground_slam',
      name: 'Ground Slam',
      cooldown: 6.0,
      range: 40,
      damage: 12,
      telegraphMs: 800,
      aoeRadius: 48,
      effect: 'aoe_stun',
    }],
    description: 'Slow, heavily armored enemy with a powerful slam attack.',
    floorScaling: { hpMult: 1.7, damageMult: 1.4 },
  },
  {
    id: 'shadow_imp',
    name: 'Shadow Imp',
    archetype: 'blinker',
    hp: 15,
    damage: 9,
    speed: 3.5 * 32,
    attackCooldown: 1.8,
    attackRange: 22,
    tags: ['Spirit', 'Melee'],
    abilities: [{
      id: 'shadow_blink',
      name: 'Shadow Blink',
      cooldown: 4.0,
      range: 120,
      telegraphMs: 300,
      effect: 'teleport_to_player',
    }],
    description: 'Fast imp that teleports near the player and attacks.',
    floorScaling: { hpMult: 1.5, damageMult: 1.7 },
  },
  {
    id: 'toxic_shroom',
    name: 'Toxic Shroom',
    archetype: 'hazard_generator',
    hp: 20,
    damage: 3,
    speed: 1.5 * 32,
    attackCooldown: 3.0,
    attackRange: 100,
    tags: ['Poison', 'AOE', 'DOT'],
    abilities: [{
      id: 'spawn_gas_cloud',
      name: 'Toxic Cloud',
      cooldown: 5.0,
      range: 100,
      damage: 4,
      telegraphMs: 600,
      aoeRadius: 56,
      effect: 'hazard_poison_cloud',
    }],
    description: 'Places poisonous gas zones that linger and deal DOT.',
    floorScaling: { hpMult: 1.6, damageMult: 1.5 },
  },
];

export const eliteModifiers: EliteModifierDef[] = [
  {
    id: 'elite_frenzied',
    name: 'Frenzied',
    description: 'Attacks faster and moves quicker. Enters frenzy below 40% HP.',
    hpMult: 1.3,
    damageMult: 1.2,
    speedMult: 1.25,
    tags: ['Physical', 'Buff'],
  },
  {
    id: 'elite_shielded',
    name: 'Shielded',
    description: 'Periodically generates a damage-absorbing shield.',
    hpMult: 1.5,
    damageMult: 1.0,
    speedMult: 1.0,
    abilities: [{
      id: 'energy_shield',
      name: 'Energy Shield',
      cooldown: 8.0,
      range: 0,
      telegraphMs: 500,
      effect: 'gain_shield_20',
    }],
    tags: ['Shield', 'Spirit'],
  },
  {
    id: 'elite_toxic',
    name: 'Toxic',
    description: 'Attacks apply poison. Leaves poison trail when moving.',
    hpMult: 1.2,
    damageMult: 1.1,
    speedMult: 1.0,
    tags: ['Poison', 'DOT'],
  },
];

export const bosses: BossDef[] = [
  {
    id: 'boss_elder_treant',
    name: 'Elder Treant',
    archetype: 'tank',
    hp: 280,
    damage: 12,
    speed: 1.0 * 32,
    attackCooldown: 2.0,
    attackRange: 36,
    tags: ['Nature', 'Physical', 'AOE'],
    description: 'Ancient tree guardian. Slams the ground and summons root waves.',
    floorScaling: { hpMult: 1.0, damageMult: 1.0 },
    phases: [
      {
        hpThreshold: 1.0,
        abilities: [
          { id: 'root_sweep', name: 'Root Sweep', cooldown: 4, range: 60, damage: 15, telegraphMs: 700, aoeRadius: 60, effect: 'cone_knockback' },
          { id: 'seed_barrage', name: 'Seed Barrage', cooldown: 7, range: 200, damage: 8, telegraphMs: 500, aoeRadius: 32, effect: 'multi_projectile_3' },
        ],
      },
      {
        hpThreshold: 0.5,
        abilities: [
          { id: 'root_sweep', name: 'Root Sweep', cooldown: 3, range: 60, damage: 18, telegraphMs: 600, aoeRadius: 72, effect: 'cone_knockback' },
          { id: 'seed_barrage', name: 'Seed Barrage', cooldown: 5, range: 200, damage: 10, telegraphMs: 400, aoeRadius: 40, effect: 'multi_projectile_5' },
          { id: 'entomb', name: 'Entomb', cooldown: 12, range: 150, damage: 0, telegraphMs: 1000, aoeRadius: 48, effect: 'root_cage' },
        ],
      },
    ],
  },
  {
    id: 'boss_spore_queen',
    name: 'Spore Queen',
    archetype: 'hazard_generator',
    hp: 350,
    damage: 10,
    speed: 1.5 * 32,
    attackCooldown: 1.8,
    attackRange: 160,
    tags: ['Poison', 'Summon', 'AOE', 'DOT'],
    description: 'Massive fungal entity. Summons sporelings and fills the arena with poison zones.',
    floorScaling: { hpMult: 1.0, damageMult: 1.0 },
    phases: [
      {
        hpThreshold: 1.0,
        abilities: [
          { id: 'spore_rain', name: 'Spore Rain', cooldown: 6, range: 200, damage: 6, telegraphMs: 800, aoeRadius: 48, effect: 'rain_3_zones' },
          { id: 'summon_sporeling', name: 'Summon Sporeling', cooldown: 8, range: 0, damage: 0, telegraphMs: 500, effect: 'summon_2_sporelings' },
        ],
      },
      {
        hpThreshold: 0.6,
        abilities: [
          { id: 'spore_rain', name: 'Spore Rain', cooldown: 4, range: 200, damage: 8, telegraphMs: 600, aoeRadius: 56, effect: 'rain_5_zones' },
          { id: 'summon_sporeling', name: 'Summon Sporeling', cooldown: 6, range: 0, damage: 0, telegraphMs: 400, effect: 'summon_3_sporelings' },
          { id: 'toxic_nova', name: 'Toxic Nova', cooldown: 10, range: 0, damage: 14, telegraphMs: 900, aoeRadius: 100, effect: 'expanding_ring' },
        ],
      },
      {
        hpThreshold: 0.25,
        abilities: [
          { id: 'spore_rain', name: 'Spore Rain', cooldown: 3, range: 200, damage: 10, telegraphMs: 500, aoeRadius: 64, effect: 'rain_7_zones' },
          { id: 'summon_sporeling', name: 'Summon Sporeling', cooldown: 5, range: 0, damage: 0, telegraphMs: 300, effect: 'summon_4_sporelings' },
          { id: 'toxic_nova', name: 'Toxic Nova', cooldown: 8, range: 0, damage: 18, telegraphMs: 700, aoeRadius: 120, effect: 'expanding_ring' },
          { id: 'death_spore', name: 'Death Spore Burst', cooldown: 15, range: 0, damage: 22, telegraphMs: 1200, aoeRadius: 150, effect: 'full_arena_telegraph' },
        ],
      },
    ],
  },
];
