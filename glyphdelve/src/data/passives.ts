import type { PassiveDef } from '../types';

export const druidPassives: PassiveDef[] = [
  {
    id: 'pack_tactics',
    name: 'Pack Tactics',
    description: 'Your summons deal more damage when multiple summons are active.',
    tags: ['Summon', 'Physical'],
    triggerSentence: 'When you have 2+ summons active, all summons deal +20% damage.',
    rarity: 'Common',
    baseWeight: 1.0,
    effect: { type: 'conditional', condition: 'summon_count >= 2', stat: 'summon_damage', value: 0.20, percent: true },
    synergyNote: 'Core Swarm summoner passive. Combines well with multiple summon skills.',
  },
  {
    id: 'alpha_bond',
    name: 'Alpha Bond',
    description: 'If you have exactly 1 summon, it gains massive stat bonuses.',
    tags: ['Summon', 'Buff'],
    triggerSentence: 'When exactly 1 summon is active, it gains +60% damage, +40% HP, and +25% speed.',
    rarity: 'Uncommon',
    baseWeight: 0.65,
    effect: { type: 'conditional', condition: 'summon_count == 1', stat: 'summon_all_stats', value: 0.60 },
    synergyNote: 'Core Elite single-summon passive. Anti-synergy with swarm builds.',
  },
  {
    id: 'spore_mantle',
    name: 'Spore Mantle',
    description: 'Taking damage releases a small poison cloud at your location.',
    tags: ['Poison', 'OnDamageTaken', 'AOE'],
    triggerSentence: 'When you take damage, emit a poison cloud (2s cooldown) dealing DOT in a small area.',
    rarity: 'Common',
    baseWeight: 1.0,
    effect: { type: 'trigger', trigger: { event: 'OnDamageTaken', effect: 'spawn_poison_cloud', value: 5, cooldownMs: 2000 } },
    synergyNote: 'Combines well with Poison and DOT tags. Good defensive option for casters.',
  },
  {
    id: 'elder_bond',
    name: 'Elder Bond',
    description: 'Your summons gain a portion of your armor and resistances.',
    tags: ['Summon', 'Shield', 'Nature'],
    triggerSentence: 'Summons inherit 40% of your armor and resistance values.',
    rarity: 'Uncommon',
    baseWeight: 0.65,
    effect: { type: 'stat_mod', stat: 'summon_inherit_defense', value: 0.40, percent: true },
    synergyNote: 'Combines well with tank-focused Druid builds and single elite summon.',
  },
  {
    id: 'natures_fury',
    name: "Nature's Fury",
    description: 'Nature-tagged skills deal increased damage.',
    tags: ['Nature', 'Buff'],
    triggerSentence: 'All skills with the Nature tag deal +15% damage.',
    rarity: 'Common',
    baseWeight: 1.0,
    effect: { type: 'stat_mod', stat: 'nature_damage', value: 0.15, percent: true },
    synergyNote: 'Broad synergy with most Druid skills. Core caster passive.',
  },
  {
    id: 'toxic_proliferation',
    name: 'Toxic Proliferation',
    description: 'When an enemy dies with poison stacks, spread stacks to nearby enemies.',
    tags: ['Poison', 'OnKill', 'AOE'],
    triggerSentence: 'When a poisoned enemy dies, spread 50% of its stacks to enemies within range.',
    rarity: 'Uncommon',
    baseWeight: 0.65,
    effect: { type: 'trigger', trigger: { event: 'OnKill', effect: 'spread_poison', value: 0.5, cooldownMs: 0 } },
    synergyNote: 'Strong with Spore Bolt and DOT builds. Chain-clears packs efficiently.',
  },
  {
    id: 'symbiotic_growth',
    name: 'Symbiotic Growth',
    description: 'Each active summon increases your max HP by a flat amount.',
    tags: ['Summon', 'Heal', 'Nature'],
    triggerSentence: 'Each active summon grants you +8 max HP.',
    rarity: 'Common',
    baseWeight: 1.0,
    effect: { type: 'stat_mod', stat: 'hp_per_summon', value: 8 },
    synergyNote: 'Scales with Swarm builds. Moderate synergy with all Summon skills.',
  },
  {
    id: 'thorned_hide',
    name: 'Thorned Hide',
    description: 'Reflect a portion of melee damage taken back to attackers.',
    tags: ['Physical', 'OnDamageTaken', 'Nature'],
    triggerSentence: 'When hit by melee attacks, reflect 25% of damage taken back to the attacker.',
    rarity: 'Common',
    baseWeight: 1.0,
    effect: { type: 'trigger', trigger: { event: 'OnDamageTaken', effect: 'reflect_damage', value: 0.25 } },
    synergyNote: 'Good defensive passive. Combines with Physical and melee-range playstyles.',
  },
  {
    id: 'primal_instinct',
    name: 'Primal Instinct',
    description: 'After using a Transform skill, gain bonus movement and attack speed briefly.',
    tags: ['Transform', 'Buff', 'Physical'],
    triggerSentence: 'After casting a Transform skill, gain +30% move speed and +20% attack speed for 4s.',
    rarity: 'Uncommon',
    baseWeight: 0.65,
    effect: { type: 'trigger', trigger: { event: 'OnHit', effect: 'speed_buff', value: 0.30, cooldownMs: 4000 } },
    synergyNote: 'Synergizes with Wild Charge and transform-based builds.',
  },
  {
    id: 'verdant_pulse',
    name: 'Verdant Pulse',
    description: 'Every 10 seconds, heal yourself and all summons for a small amount.',
    tags: ['Nature', 'Heal', 'Summon', 'Aura'],
    triggerSentence: 'Every 10s, heal player and all summons for 5 HP.',
    rarity: 'Common',
    baseWeight: 1.0,
    effect: { type: 'trigger', trigger: { event: 'OnHit', effect: 'periodic_heal', value: 5, cooldownMs: 10000 } },
    synergyNote: 'Sustain passive. Works with both Swarm and single-summon archetypes.',
  },
  {
    id: 'death_blossom',
    name: 'Death Blossom',
    description: 'When one of your summons dies, it explodes dealing AOE nature damage.',
    tags: ['Summon', 'OnDeath', 'AOE', 'Nature'],
    triggerSentence: 'When a summon dies, it explodes dealing 15 nature damage in a small area.',
    rarity: 'Uncommon',
    baseWeight: 0.65,
    effect: { type: 'trigger', trigger: { event: 'OnDeath', effect: 'summon_death_explosion', value: 15 } },
    synergyNote: 'Powerful with Swarm builds where summons die frequently.',
  },
  {
    id: 'root_network',
    name: 'Root Network',
    description: 'Totems and summons share a healing link, redistributing damage evenly.',
    tags: ['Totem', 'Summon', 'Heal', 'Nature'],
    triggerSentence: 'When a summon or totem takes damage, 20% is distributed to other summons.',
    rarity: 'Rare',
    baseWeight: 0.35,
    effect: { type: 'trigger', trigger: { event: 'OnDamageTaken', effect: 'distribute_damage', value: 0.20 } },
    synergyNote: 'Strong with Totemic Ward and multiple summons. Increases survivability.',
  },
  {
    id: 'feral_momentum',
    name: 'Feral Momentum',
    description: 'Each enemy killed within 5 seconds increases your damage temporarily.',
    tags: ['OnKill', 'Buff', 'Physical'],
    triggerSentence: 'On kill, gain +8% damage for 5s. Stacks up to 5 times.',
    rarity: 'Common',
    baseWeight: 1.0,
    effect: { type: 'trigger', trigger: { event: 'OnKill', effect: 'damage_buff_stack', value: 0.08, cooldownMs: 0 } },
    synergyNote: 'Good for clearing packs. Works with all damage-dealing builds.',
  },
  {
    id: 'mycorrhizal_bond',
    name: 'Mycorrhizal Bond',
    description: 'When you cast a Summon skill, your next non-Summon skill has reduced cooldown.',
    tags: ['Summon', 'Cooldown', 'Nature'],
    triggerSentence: 'After casting a Summon skill, your next non-Summon skill cooldown is reduced by 30%.',
    rarity: 'Rare',
    baseWeight: 0.35,
    effect: { type: 'trigger', trigger: { event: 'OnSummon', effect: 'reduce_next_cooldown', value: 0.30 } },
    synergyNote: 'Core Caster-Summoner hybrid passive. Bridges both playstyles.',
  },
];
